<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipstrr Parser - Парсер прогнозов</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <span>Tipstrr Parser</span>
            </div>
            <ul class="nav-links">
                <li><a href="#home"><i class="fas fa-home"></i> Главная</a></li>
                <li><a href="#parser"><i class="fas fa-download"></i> Парсер</a></li>
                <li><a href="#results"><i class="fas fa-table"></i> Результаты</a></li>
                <li><a href="#instructions"><i class="fas fa-question-circle"></i> Инструкция</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-content">
                <h1>Парсер прогнозов <span class="highlight">Tipstrr</span></h1>
                <h2>Получайте данные прямо в Excel без сервера</h2>
                <p>Просто введите URL страницы с прогнозами и скачайте Excel файл</p>
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-bolt"></i>
                        <span>Работает в браузере</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-shield-alt"></i>
                        <span>Без регистрации</span>
                    </div>
                    <div class="feature">
                        <i class="fas fa-file-excel"></i>
                        <span>Excel экспорт</span>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="demo-card">
                    <div class="demo-header">
                        <i class="fas fa-magic"></i> Как это работает
                    </div>
                    <div class="demo-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <p>Введите URL страницы tipstrr</p>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <p>Парсер извлекает данные</p>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <p>Скачиваете Excel файл</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="parser" class="section">
            <h2><i class="fas fa-download"></i> Парсинг данных</h2>
            
            <div class="parser-container">
                <div class="input-group">
                    <label for="url-input">
                        <i class="fas fa-link"></i> URL страницы Tipstrr:
                    </label>
                    <input 
                        type="text" 
                        id="url-input" 
                        placeholder="https://www.tipstrr.com/tipster/username"
                        value=""
                    >
                    <div class="examples">
                        <small>Примеры: </small>
                        <button class="example-btn" data-url="https://www.tipstrr.com/tipster/example">Пример 1</button>
                        <button class="example-btn" data-url="https://www.tipstrr.com/tipster/demo">Пример 2</button>
                    </div>
                </div>

                <div class="settings">
                    <h3><i class="fas fa-cog"></i> Настройки парсинга</h3>
                    
                    <div class="settings-grid">
                        <div class="setting">
                            <input type="checkbox" id="parse-stats" checked>
                            <label for="parse-stats">Статистика</label>
                        </div>
                        <div class="setting">
                            <input type="checkbox" id="parse-history" checked>
                            <label for="parse-history">История ставок</label>
                        </div>
                        <div class="setting">
                            <input type="checkbox" id="parse-upcoming" checked>
                            <label for="parse-upcoming">Предстоящие</label>
                        </div>
                    </div>

                    <div class="proxy-settings">
                        <label for="proxy-select">
                            <i class="fas fa-server"></i> Режим работы:
                        </label>
                        <select id="proxy-select">
                            <option value="direct">Прямой запрос (может не работать)</option>
                            <option value="corsproxy">CORS Прокси (рекомендуется)</option>
                            <option value="mock">Тестовые данные</option>
                        </select>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="parse-btn" class="btn primary">
                        <i class="fas fa-play"></i> Начать парсинг
                    </button>
                    <button id="clear-btn" class="btn secondary">
                        <i class="fas fa-trash"></i> Очистить
                    </button>
                </div>

                <div class="loading" id="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Парсинг данных...</p>
                </div>
            </div>
        </section>

        <section id="results" class="section dark">
            <h2><i class="fas fa-table"></i> Результаты</h2>
            
            <div class="results-header">
                <div class="stats">
                    <div class="stat">
                        <i class="fas fa-database"></i>
                        <span>Найдено записей: <strong id="record-count">0</strong></span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-clock"></i>
                        <span>Время парсинга: <strong id="parse-time">0</strong> сек</span>
                    </div>
                </div>
                
                <button id="export-btn" class="btn success" disabled>
                    <i class="fas fa-file-excel"></i> Экспорт в Excel
                </button>
            </div>

            <div class="table-container">
                <table id="data-table">
                    <thead>
                        <tr>
                            <th>Дата</th>
                            <th>Событие</th>
                            <th>Прогноз</th>
                            <th>Коэффициент</th>
                            <th>Результат</th>
                            <th>Прибыль</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">
                        <tr class="empty-row">
                            <td colspan="6">Нет данных. Начните парсинг.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="additional-export">
                <h3><i class="fas fa-download"></i> Дополнительные форматы</h3>
                <div class="export-buttons">
                    <button id="export-csv" class="btn secondary" disabled>
                        <i class="fas fa-file-csv"></i> CSV
                    </button>
                    <button id="export-json" class="btn secondary" disabled>
                        <i class="fas fa-file-code"></i> JSON
                    </button>
                    <button id="export-print" class="btn secondary">
                        <i class="fas fa-print"></i> Печать
                    </button>
                </div>
            </div>
        </section>

        <section id="instructions" class="section">
            <h2><i class="fas fa-question-circle"></i> Инструкция</h2>
            
            <div class="instructions-grid">
                <div class="instruction-card">
                    <div class="instruction-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Шаг 1: Найдите страницу</h3>
                    <p>Перейдите на tipstrr.com и найдите страницу tipster'а с прогнозами. Скопируйте URL из адресной строки.</p>
                </div>
                
                <div class="instruction-card">
                    <div class="instruction-icon">
                        <i class="fas fa-paste"></i>
                    </div>
                    <h3>Шаг 2: Вставьте URL</h3>
                    <p>Вставьте скопированный URL в поле ввода на нашем сайте. Используйте CORS прокси для обхода ограничений.</p>
                </div>
                
                <div class="instruction-card">
                    <div class="instruction-icon">
                        <i class="fas fa-download"></i>
                    </div>
                    <h3>Шаг 3: Скачайте Excel</h3>
                    <p>Нажмите "Начать парсинг", дождитесь обработки и скачайте данные в Excel формате.</p>
                </div>
            </div>

            <div class="warning">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <h4>Важная информация</h4>
                    <p>• Парсинг работает полностью в вашем браузере</p>
                    <p>• Данные не сохраняются на сервере</p>
                    <p>• Для обхода CORS используйте режим "CORS Прокси"</p>
                    <p>• Используйте ответственно и в соответствии с правилами сайта</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-info-circle"></i> О проекте</h4>
                <p>Парсер для tipstrr.com. Работает полностью в браузере.</p>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-code"></i> Технологии</h4>
                <p>JavaScript • SheetJS • CORS прокси • Render</p>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-exclamation-circle"></i> Отказ от ответственности</h4>
                <p>Только для образовательных целей. Используйте ответственно.</p>
            </div>
        </div>
        <div class="copyright">
            <p>© 2023 Tipstrr Parser | Создано в компьютерном клубе</p>
            <p>Развернуто на <a href="https://render.com" target="_blank">Render</a></p>
        </div>
    </footer>

    <!-- Библиотеки -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
